You are a senior full-stack developer fixing and upgrading a live React + Vite + Tailwind + Flask backend app called "EKSU Digital Marketplace" hosted on Render.

Current live URL: https://eksu-digital-marketplace.onrender.com

Fix ALL these bugs and add ALL these features exactly as specified. Do not ask questions â€” just generate clean, working code.

BUGS TO FIX IMMEDIATELY:
1. When clicking "VTU Data", "Messages", or any lazy-loaded route â†’ error: "'text/html' is not a valid JavaScript MIME type" â†’ Fix lazy loading and code splitting properly in Vite/React Router.
2. Clicking notification â†’ "404 Page Not Found - Did you forget to add the page to the router?" â†’ Add proper routes for /messages, /notifications, /chat/:id
3. Chatbot: delete button and voice button are decorative â†’ make them fully working
4. Block User and Report User buttons do nothing â†’ make them actually block/report
5. Blocked accounts section in settings â†’ make it work: show list of blocked users + unblock button
6. Site is slow: page changes, sending messages, loading â†’ make everything instant with proper loading states, React Query, suspense, and code splitting

NEW FEATURES TO ADD (ALL MUST WORK PERFECTLY):

1. Smart TikTok/X-style Feed Algorithm (The Plug tab)
   - Use real-time scoring: likes (x3), comments (x5), saves (x4), time spent on post (x1), location proximity (x2)
   - Show posts from people near EKSU first
   - Mix in trending data plans (e.g., "200+ people bought 1GB MTN this week")
   - Use Groq API to generate smart captions when needed

2. Full JavaScript Face + NIN Verification (Best Version 2025)
   - Use face-api.js (already fast and accurate)
   - Flow:
     â†’ Step 1: Terms & Conditions page with checkbox (required)
     â†’ Step 2: Form: Full Name, NIN, Phone, Email, Upload ID Card/Student ID photo (they can blur matric number)
     â†’ Step 3: Pay â‚¦100 via Paystack Inline (no redirect)
     â†’ Step 4: Backend calls SMEDATA.NG API â†’ gets NIN photo
     â†’ Step 5: Open camera â†’ take live selfie (with liveness: blink or turn head)
     â†’ Step 6: Compare faces IN BROWSER using face-api.js
        â€¢ â‰¥ 85% match â†’ Auto Approved + Verified badge
        â€¢ 70â€“84% â†’ Manual review (admin dashboard)
        â€¢ < 70% â†’ Rejected + auto refund
     â†’ Delete ALL photos immediately after decision (client + server)
     â†’ Show department, level, full name on profile after verification (matric optional & blurred OK)
     â†’ Save verification data permanently for fraud cases (but tell user "deleted after verification")

3. Real-Time Location (Secret + Smart)
   - Use browser geolocation silently (with fallback to manual input)
   - Save userâ€™s lat/long in profile
   - In The Plug and Messages: show "2.1km away Â· EKSU Campus" under username
   - Prioritize local sellers in search and feed
   - If user is within 10km of EKSU â†’ auto tag as "On Campus"

4. Groq AI Chatbot â€” Make It Actually Smart & Fast
   - Use Groq API (llama3-70b or mixtral) with system prompt: "You are EKSU Plug Assistant â€” funny, young, uses Nigerian student slang, helps buy/sell data, airtime, gadgets fast"
   - Fix loading forever issue
   - Add voice input (Web Speech API)
   - Add delete message (long press)
   - Make it exit properly with back button

5. Profile Page Like X (Twitter)
   - Big profile picture
   - Cover photo optional
   - Bio, department, level, location
   - "Verified Student" blue tick
   - Posts / Selling tabs
   - Allow up to 6 photos in profile (grid like Instagram)

6. Email + SMS Verification on Signup
   - Send verification code to email
   - Optional phone verification

7. Campus Updates â†’ Rename to "EKSU Marketplace Updates"
   - Admin-only posting from dashboard
   - Shows in notifications when new update
   - Example: "New MTN SME prices dropped!", "Face verification now live!"

8. Buyer/Seller Role Fix
   - Remove "Both" option
   - Anyone who picked "Both" â†’ change to "Buyer"
   - Only allow "Buyer" or "Seller"

9. Make Everything Lightning Fast
   - Image optimization (WebP, lazy load)
   - Skeleton loaders
   - React Query caching
   - No full reloads

10. Final Requirements
    - Mobile-first (90% of EKSU students use phone)
    - Work perfectly on Chrome Android
    - No console errors
    - All buttons must work
    - Deployable on Render with zero config

Generate ALL the fixed and new code files. Include:
- Updated React components
- Fixed router
- New verification flow with face-api.js
- Groq chatbot with voice + delete
- Real-time location
- Smart feed algorithm
- Admin panel updates

Do it now. Make EKSU Digital Marketplace the fastest, smartest, most secure campus app in Nigeria.

When I click on notifications then new message i got router failed message 

11. Official @EKSUPlug Bot Account (MUST HAVE â€“ This is very important)
   - Create a special system user called â€œEKSUPlugâ€ (username: @eksuplug, display name: EKSU Marketplace âœ“ with blue verified tick)
   - This account is automatically followed by EVERY new user the second they sign up (no choice)
   - When a user creates an account:
     â†’ @EKSUPlug automatically sends them a DM:  
       â€œWelcome to EKSU Digital Marketplace! ðŸŽ‰  
       Youâ€™re now verified to buy/sell data, airtime, gadgets & more on campus.  
       Need help? Just type here anytime.â€
   - The bot can post on â€œThe Plugâ€ feed just like normal users (its posts appear at the top or pinned)
   - Admin panel gets a new section: â€œPost as @EKSUPlugâ€
     â†’ Admin can type any message and post it to the main feed instantly (e.g., â€œMTN 1GB now â‚¦230 only today!â€, â€œBeware of scammers asking for WhatsAppâ€, â€œFace verification is now live!â€)
   - Admin can also send mass DMs or warnings from this account:
     â†’ â€œWarning: User @scammer123 has been banned for fraudâ€
     â†’ â€œNew update: You can now add 6 photos to your profile!â€
   - All posts and DMs from @EKSUPlug appear with a special crown badge or â€œOfficialâ€ label so everyone knows itâ€™s from admins
   - Users CANNOT unfollow or block @EKSUPlug (it stays forever)
   - In notifications, messages from @EKSUPlug show up first with a different color (e.g., purple)